
(function($){var Private={init:function(){Private.documentReady();Private.header();Private.login();Private.tableDefault();},documentReady:function(){console.log("Document ready!");},header:function(){var header=$('header.navbar-default'),navbarToggle=header.find('.navbar-toggle'),navbarCollapse=header.find('.navbar-collapse'),profileToggle=header.find('.profile-toggle');navbarToggle.click(function(event){event.preventDefault();navbarCollapse.toggleClass('is-visible');});profileToggle.click(function(event){event.preventDefault();$(this).next('.dropdown-menu-profile').toggleClass('is-visible');});$(window).scroll(function(){var scrollTop=$(this).scrollTop();if(scrollTop>230){header.addClass('navbar-fixed fadeInDown');}else{if(scrollTop==0){header.removeClass('navbar-fixed fadeInDown');}}});},login:function(){var signin=$('form.form-signin'),btnLogout=$('.btn-logout');signin.submit(function(event){event.preventDefault();$.ajax({url:'/micro/login/signin',data:signin.serialize(),method:"POST",complete:function(){signin[0].reset();},statusCode:{200:function(){window.location.href="/micro";},403:function(jqXHR){var error=JSON.parse(jqXHR.responseText);console.log(error);Public.statusOutput(signin,'warning',error.status,error.message)}}});});btnLogout.click(function(event){event.preventDefault();$.ajax({url:"/micro/login/logout",method:"POST",statusCode:{200:function(){window.location.href="/micro/login";}}});});},tableDefault:function(){var tableDefault=$('.app-table');tableDefault.dataTable();var chart=new Chartist.Line('.ct-chart',{labels:['1','2','3','4','5','6','7','8','9','10','11','12'],series:[[12,9,7,8,5,4,6,2,3,3,4,6],[4,5,3,7,3,5,5,3,4,4,5,5],[5,3,4,5,6,3,3,4,5,6,3,4],[3,4,5,6,7,6,4,5,6,7,6,3]]},{low:0});var seq=0,delays=50,durations=200;chart.on('created',function(){seq=0;});chart.on('draw',function(data){seq++;if(data.type==='line'){data.element.animate({opacity:{begin:seq*delays+1000,dur:durations,from:0,to:1}});}else if(data.type==='label'&&data.axis==='x'){data.element.animate({y:{begin:seq*delays,dur:durations,from:data.y+100,to:data.y,easing:'easeOutQuart'}});}else if(data.type==='label'&&data.axis==='y'){data.element.animate({x:{begin:seq*delays,dur:durations,from:data.x-100,to:data.x,easing:'easeOutQuart'}});}else if(data.type==='point'){data.element.animate({x1:{begin:seq*delays,dur:durations,from:data.x-10,to:data.x,easing:'easeOutQuart'},x2:{begin:seq*delays,dur:durations,from:data.x-10,to:data.x,easing:'easeOutQuart'},opacity:{begin:seq*delays,dur:durations,from:0,to:1,easing:'easeOutQuart'}});}else if(data.type==='grid'){var pos1Animation={begin:seq*delays,dur:durations,from:data[data.axis+'1']-30,to:data[data.axis+'1'],easing:'easeOutQuart'};var pos2Animation={begin:seq*delays,dur:durations,from:data[data.axis+'2']-100,to:data[data.axis+'2'],easing:'easeOutQuart'};var animations={};animations[data.axis+'1']=pos1Animation;animations[data.axis+'2']=pos2Animation;animations['opacity']={begin:seq*delays,dur:durations,from:0,to:1,easing:'easeOutQuart'};data.element.animate(animations);}});chart.on('created',function(){if(window.__exampleAnimateTimeout){clearTimeout(window.__exampleAnimateTimeout);window.__exampleAnimateTimeout=null;}
window.__exampleAnimateTimeout=setTimeout(chart.update.bind(chart),12000);});new Chartist.Line('.ct-chart',data,options);}}
Public={statusOutput:function(id,view,status,message){$(id).append('<div class="status-output ss-'+view+' amtn fadeInUp"><strong>'+status+': </strong>'+message+'<a class="ss-close"><span class="spr spr-ss-close"></span></a></div>');setTimeout(function(){$(id).find('.status-output:first').slideUp(300,function(){$(this).remove();});},7000);$('.ss-close').on('click',function(){$(this).parent('.status-output').slideUp(300,function(){$(this).remove();});});}}
$(document).ready(Private.init);})(jQuery);